import{r as a,d as h,j as t,L as j}from"./index-NQ7_5lrg.js";import{u as C}from"./useTextInput-DmyXkZcx.js";import{A as N}from"./AppForm-Bw7mIjUp.js";import{l as b}from"./validator-iAbv46Dp.js";const v=n=>{const[u,i]=a.useState(n),{updateUserDetail:c,isPending:p}=h(),{name:e}=u,f=a.useCallback((s,m)=>{i(g=>({...g,[s]:m}))},[]),o=C(),[d,l]=a.useState(!1),r=a.useMemo(()=>b(e)?e===n.name?"이름에 변경사항이 없습니다.":null:"이름을 입력해주세요.",[e,n.name]),x=a.useCallback(async()=>{if(r)return alert(r),o.focus();const{message:s,success:m}=await c("name",e);if(!m)return alert(s),o.focus();alert("수정되었습니다.")},[r,e,o,c]);return t.jsxs("div",{children:[p&&t.jsx(j,{message:"회원정보가 수정중입니다."}),t.jsxs(N,{className:"flex-row items-end gap-x-2.5",onSubmit:x,children:[t.jsx(o.Component,{value:e,onChangeText:s=>f("name",s),label:"이름",divClassName:"flex-1",props:{onFocus:()=>l(!0),onBlur:()=>l(!1)},placeholder:n.name}),d&&t.jsx("button",{className:"primary",children:"수정"})]})]})};export{v as default};
