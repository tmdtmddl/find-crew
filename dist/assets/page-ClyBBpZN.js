import{d as y,r as t,u as j,j as e}from"./index-Bf2mX5nG.js";import{e as v}from"./validator-iAbv46Dp.js";import{u as g}from"./useTextInput-CLoLXTE4.js";import{s as b}from"./provider.store-BmVc1iV0.js";const M=()=>{const{signin:u}=y(),[o,d]=t.useState(""),[s,f]=t.useState(""),r=t.useMemo(()=>v(o)?null:"이메일을 확인해주세요.",[o]),n=t.useMemo(()=>s.length===0?"비밀번호를 입력해주세요.":s.length<6?"비밀번호가 너무 짧습니다.":s.length>12?"비밀번호가 너무 깁니다.":null,[s]),l=g(),c=g();t.useEffect(()=>{l.focus()},[]);const m=j(),{setWithProvider:p}=b(),x=t.useCallback(async()=>{if(r)return alert(r),l.focus();if(n)return alert(n),c.focus();try{const{message:a,success:h,data:i}=await u(o,s);if(!h)return i?(alert(a),p(i.uid,i.email,i.displayName??void 0),m("/auth")):alert(a??"로그인 문제 생김");alert("환영합니다. 나의 동료를 찾으세요!"),m("/my?content=matching")}catch(a){alert(a.message)}},[o,s,r,n,l,c,u,m,p]);return e.jsxs("div",{className:"max-w-100 p-5 col gap-y-5 mx-auto",children:[e.jsxs("form",{className:"col gap-y-2.5",onSubmit:a=>{a.preventDefault(),x()},children:[e.jsx(l.Component,{value:o,onChangeText:d,label:"이메일",placeholder:"email@email.com",message:r,props:{type:"email"}}),e.jsx(c.Component,{value:s,onChangeText:f,label:"비밀번호",placeholder:"* * * * * * * *",message:n,props:{type:"password"}}),e.jsx("button",{className:"primary mt-2.5",children:"로그인하기"})]}),e.jsxs("div",{className:"col gap-y-5",children:[e.jsx("span",{className:"text-center",children:"OR"}),e.jsx("button",{onClick:async()=>{console.log("google gogo ")},children:"구글로 계속하기"})]})]})};export{M as default};
